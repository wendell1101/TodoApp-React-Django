(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{19:function(e,t,n){e.exports=n(43)},24:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(17),c=n.n(l),i=(n(24),n(2)),d=n(3),r=n(5),s=n(6),m=n(7),h=n.n(m),u=n(4),p=n(18),f=function(e){var t={textDecoration:e.todo.completed?"line-through":"none",color:e.todo.completed?"#f4f4f4":"#333"};return o.a.createElement("ul",{className:"list-group"},o.a.createElement("li",{className:"list-group-item mt-2 d-flex list"},o.a.createElement("p",{style:t,onClick:e.handleCompleted.bind(void 0,e.todo)},e.todo.title),o.a.createElement("div",{className:"ml-auto"},o.a.createElement("button",{onClick:e.handleDelete.bind(void 0,e.todo.id),className:e.todo.completed?"btn btn-complete mr-2":"btn btn-danger mr-2"},"Delete"),o.a.createElement("button",{onClick:e.handleEdit.bind(void 0,e.todo),className:e.todo.completed?"btn btn-complete mr-2":"btn btn-info mr-2"},"Edit"))))},v=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={activeItem:{id:null,title:"",completed:!1}},e.handleTitle=function(t){e.setState({activeItem:Object(p.a)({},e.state.activeItem,Object(u.a)({},t.target.id,t.target.value))}),console.log(e.state.activeItem.title)},e.handleOnSubmit=function(t){t.preventDefault(),console.log(e.state.activeItem),e.props.handleAddTodo(e.state.activeItem),e.props.handleEditTodo(e.state.activeItem),e.setState({activeItem:{id:null,title:"",completed:!1}})},e.handleEdit=function(t){e.setState({activeItem:t})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.todos,n=t.length?t.map((function(t){return o.a.createElement(f,{key:t.id,todo:t,handleDelete:e.props.handleDelete,handleEdit:e.handleEdit,handleCompleted:e.props.handleCompleted})})):o.a.createElement("div",null,o.a.createElement("h1",{className:"text-dark text-center"},"No Task Yet"));return o.a.createElement("div",{className:""},o.a.createElement("form",{onSubmit:this.handleOnSubmit,className:"form"},o.a.createElement("input",{type:"text",id:"title",onChange:this.handleTitle,value:this.state.activeItem.title,className:"form-control mb-3"}),o.a.createElement("br",null),o.a.createElement("button",{type:"submit",className:"btn btn-success"},"Add")),n)}}]),n}(a.Component),b=function(){return o.a.createElement("header",{className:"bg-dark p-2 header"},o.a.createElement("div",null,o.a.createElement("h1",{className:"text-white text-center"},"TodoList "),o.a.createElement("h5",{className:"text-white text-center"},"Using React and Django ")))},E=function(){return o.a.createElement("footer",null,o.a.createElement("small",{className:"text-white text-center"},"\xa9 Copyright 2020, Suazo Wendell"))},g=(n(42),function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={todos:[]},e.getCookie=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var o=n[a].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t},e.handleAddTodo=function(t){var n=e.getCookie("csrftoken");JSON.stringify(t);fetch("http://localhost:8000/todo-create/",{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify(t)}).then((function(t){e.fetchData()}))},e.handleDelete=function(t){console.log(t);var n="http://localhost:8000/todo-delete/".concat(t,"/");h.a.delete(n).then((function(t){e.fetchData()}))},e.handleEditTodo=function(t){var n=e.getCookie("csrftoken"),a="http://localhost:8000/todo-update/".concat(t.id,"/");JSON.stringify(t);fetch(a,{method:"PUT",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify({title:t.title})}).then((function(t){e.fetchData()}))},e.handleCompleted=function(t){var n=e.getCookie("csrftoken"),a="http://localhost:8000/todo-update/".concat(t.id,"/");fetch(a,{method:"PUT",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify({completed:!t.completed,title:t.title})}).then((function(t){e.fetchData()}))},e.fetchData=function(){h.a.get("http://localhost:8000/todo-list/").then((function(t){e.setState({todos:t.data})}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement("div",{className:"row justify-content-center "},o.a.createElement("div",{className:"col-md-5 p-4 todoContainer"},o.a.createElement(v,{todos:this.state.todos,handleAddTodo:this.handleAddTodo,handleDelete:this.handleDelete,handleEditTodo:this.handleEditTodo,handleCompleted:this.handleCompleted}))),o.a.createElement(E,null))}}]),n}(o.a.Component));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(g,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.27b58e76.chunk.js.map